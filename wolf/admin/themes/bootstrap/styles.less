/*!
 * Bootstrap v3.0.0
 *
 * Copyright 2013 Twitter, Inc
 * Licensed under the Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Designed and built with all the love in the world by @mdo and @fat.
 */

// Core variables and mixins
@import "less/variables.less";
@import "less/mixins.less";

// Reset
@import "less/normalize.less";
@import "less/print.less";

// Core CSS
@import "less/scaffolding.less";
@import "less/type.less";
@import "less/code.less";
@import "less/grid.less";
@import "less/tables.less";
@import "less/forms.less";
@import "less/buttons.less";

// Components
@import "less/component-animations.less";
@import "less/glyphicons.less";
@import "less/dropdowns.less";
@import "less/button-groups.less";
@import "less/input-groups.less";
@import "less/navs.less";
@import "less/navbar.less";
@import "less/breadcrumbs.less";
@import "less/pagination.less";
@import "less/pager.less";
@import "less/labels.less";
@import "less/badges.less";
// @import "less/jumbotron.less";
@import "less/thumbnails.less";
@import "less/alerts.less";
@import "less/progress-bars.less";
@import "less/media.less";
@import "less/list-group.less";
@import "less/panels.less";
@import "less/wells.less";
@import "less/close.less";

// Components w/ JavaScript
@import "less/modals.less";
@import "less/tooltip.less";
@import "less/popovers.less";
@import "less/carousel.less";

// Utility classes
@import "less/utilities.less";
@import "less/responsive-utilities.less";

// Wolf CMS variables are in "./wolf_variables.less"
@import "wolf_variables.less";

/**
 * =================================================================
 *
 * Wolf backend miscellaneous helper classes
 *
 * ================================================================
 */

// used for tabbed panes (page edit/settings)
.settings-tab-pane {
    .clearfix();
    background-color: @tab-panes-background;
    padding: 10px;
    border: 1px solid @nav-tabs-border-color;
    border-top: none;
    margin-bottom: 10px;

}

// used for making panel-like backgrounds around some settings
.settings-pane {
    .clearfix();
    background-color: @tab-panes-background;
    padding: 10px;
    padding-bottom: 0px;
    border: 1px solid @nav-tabs-border-color;
    margin-bottom: 10px;
}

// 2-column forms settings (label + value)
.setting-2col-label  { .make-sm-column(3); }
.setting-2col-value  { .make-sm-column(9); }
.setting-2col-value-narrow  { .make-sm-column(4); }

// 3-column forms settings (label + value + help)
.setting-3col-label  { .make-sm-column(3); }
.setting-3col-value  { .make-sm-column(4); }
.setting-3col-help   { .make-sm-column(5); color: @gray-light;}

// placeholder class for drag&drop operations
.nested-list-placeholder,
.flat-list-placeholder {
    height: 32px;
    line-height: 32px;
    border: 1px solid fade(@brand-primary,50%);
    background-color: fade(@brand-primary,20%);
}

// placeholder class for indented sub-items while inserting item as child
li.no-children .nested-list-placeholder,
li.children-hidden .nested-list-placeholder {
    background-color: fade(@brand-primary,40%);
    border-left-width: floor(@pages-nested-list-padding/4);
}

// Suppress margin-top of HEADERS in wells
.well > h1:first-child, 
.well > h2:first-child, 
.well > h3:first-child,
.well > h4:first-child,
.well > h5:first-child,
.well > h6:first-child,
{ 
    margin-top: 0px;
}
/**
 * =================================================================
 *
 * Wolf layout-specific semantic items
 *
 * ================================================================
 */
#header {
    .clearfix(); 
    .container-fixed();
    background-color: @gray-dark;
    a:hover { text-decoration: none; }
    min-height: 80px;
    font-size: @font-size-small;
    position: relative;
    text-shadow: 0 1px 1px rgba(0,0,0,.5);
    .site-title {
        .make-sm-column(8); 
        .make-sm-column-pull(4);
        a { font-weight: 900; }
    }
    .site-links {
        .make-sm-column(4);
        .make-sm-column-push(8);
        padding-top: 20px;
        p {
            text-align: right;
            color: @gray-light;
        }
        .list-inline {text-align: right;
                      > li {
                          display: inline-block;
                          &+li:before {
                              content: "|\00a0"; // Unicode space added since inline-block means non-collapsing white-space
                              padding: 0px 5px 0px 0px;
                              color: @breadcrumb-color;
                          }
                      }        
        }
    }
    // css gradient mixin from ./less/mixins.less
    #gradient > .vertical(@start-color: @header-bg-color-top; @end-color: @header-bg-color-bottom);
}

#flash-messages {
    .container-fixed();    
    .make-sm-column(10);
    .make-sm-column-push(1);
    z-index: @zindex-modal+1;
    position: fixed;
    top: 30px;
    overflow: visible;
    .flash-message {
        text-align: center;
        display: none;
        .box-shadow(1px 1px 24px rgba(0,0,0,.5));
    }
}


#navigation {
    // correct default Bootstrap margin-bottom
    .navbar {
        margin-bottom: 0px;
        // Undo the rounded corners
        @media (min-width: @grid-float-breakpoint) {
            border-radius: 0;
        }

    }
    // pull dropdown icons to right
    ul.dropdown-menu .glyphicon {float: right;}
}


// Wrapper for content and sidebar
#main {
    .container-fixed();
    .clearfix();
    padding-top: 20px;
    padding-bottom: 20px;
    background-color: @main-bg;
    border-bottom: 1px solid fade(@header-bg-color-bottom,50%);
    position: relative;
    textarea {
        font-family: @font-family-monospace;
        &.markitup { width: 100%; }
    }
    .markItUpHeader ul .markItUpSeparator {
        margin: 8px 6px;
    }
    .markItUpHeader ul .markItUpButton  {
        padding: 8px 6px;
    }
    div.filter-toolbar {
        margin-bottom: 5px;
    }
    #reorder-toggle {margin-left: 16px;}
    .reorder-handle {display: none; cursor: move;}
}

#content {
    .make-sm-column(8);
    .make-md-column(9);
    h1:first-child {margin-top: 0px;}
    h1, .h1 { font-size: floor(@font-size-base * 2.60 * @content-headers-size-ratio); } // ~36px
    h2, .h2 { font-size: floor(@font-size-base * 2.15 * @content-headers-size-ratio); } // ~30px
    h3, .h3 { font-size:  ceil(@font-size-base * 1.70 * @content-headers-size-ratio); } // ~24px
    h4, .h4 { font-size:  ceil(@font-size-base * 1.25 * @content-headers-size-ratio); } // ~18px
    h5, .h5 { font-size:  ceil(@font-size-base * 1.00 * @content-headers-size-ratio); }
    h6, .h6 { font-size:  ceil(@font-size-base * 0.85 * @content-headers-size-ratio); } // ~12px    
}

#sidebar {
    .make-sm-column(4);
    .make-md-column(3);
    .btn.btn-block {
        text-align: left;
        > img, .glyphicon {
            margin-left: 8px;
            margin-right: 8px;
            vertical-align: middle;
        }
        > .glyphicon {
            display: inline-block;
            text-align: center;
            .square(32px);
            font-size: 25px;
        }

    }

    h1, .h1 { font-size: floor(@font-size-base * 2.60 * @sidebar-headers-size-ratio); }
    h2, .h2 { font-size: floor(@font-size-base * 2.15 * @sidebar-headers-size-ratio); }
    h3, .h3 { font-size:  ceil(@font-size-base * 1.70 * @sidebar-headers-size-ratio); }
    h4, .h4 { font-size:  ceil(@font-size-base * 1.25 * @sidebar-headers-size-ratio); }
    h5, .h5 { font-size:  ceil(@font-size-base * 1.00 * @sidebar-headers-size-ratio); }
    h6, .h6 { font-size:  ceil(@font-size-base * 0.85 * @sidebar-headers-size-ratio); }

    .btn-group {
        margin-bottom: 20px;
    }

}

#footer {
    .container-fixed();    
    padding-top: 10px;
    padding-bottom: 40px;
    font-size: @font-size-small;
    color: lighten(@gray,10%);
    text-shadow: 0 1px 1px rgba(255,255,255,.5);
    // condense text
    p,ul {
        margin-bottom: 2px;
    }
    // align center on small devices
    .debug-info { 
        .make-sm-column(6); 
        text-align: center; 
        @media (min-width: @screen-sm) {text-align: left; }                    
    }
    // align center on small devices
    .version-info { 
        .make-sm-column(6); 
        text-align: center; 
        .list-inline {
            > li {
                display: inline-block;
                &+li:before {
                    content: "|\00a0"; // Unicode space added since inline-block means non-collapsing white-space
                    padding: 0px 5px 0px 0px;
                    color: @breadcrumb-color;
                }
            }        
        }
        // align right on bigger ones
        @media (min-width: @screen-sm) { text-align: right; }                    
    }
}

/* PAGES LIST "/admin/pages" */
/* ========================= */

#body_page_index ul {
    .clearfix();
    padding-left: 0; 
    list-style: none;
    .edit-link { line-height: 32px; 
                 img {vertical-align: middle;}        
    }
    .title { vertical-align: middle; font-weight: bold;}
    .title.protected {color: @gray; cursor: default;}
    .behavior-id { color: @gray-light; font-style: italic; font-size: @font-size-small; font-weight: bold; vertical-align: middle; }
    a:hover { text-decoration: none; }
    .page-status-draft     { color: @page-status-draft;    }
    .page-status-published { color: @page-status-published;}
    .page-status-hidden    { color: @page-status-hidden;   }
    .page-status-preview   { color: @page-status-preview;  }
    .page-status-archived  { color: @page-status-archived; }

}

// item column sizes
.page-list-item   { .make-row(); 
                    border-bottom: 1px solid @panel-default-border;

                    &:hover { background-color: @table-bg-hover; }
                    ul.tree-root > li:last-child > & {border: none;}
                    .panel-heading & {border: none}

                    @media (min-width: @screen-sm) { border: none; }                              
}
.page-list-name   { .make-xs-column(12); .make-sm-column(8); }
.page-list-status { .make-xs-column(8); .make-sm-column(2); text-align: right; 
                    @media (min-width: @screen-sm) { text-align: center; }                              
                    ul & {line-height: 32px; }
}
.page-list-modify { .make-xs-column(4); .make-sm-column(2); text-align: right;
                    ul & {line-height: 32px; }
}

// SITE-MAP ITEM AND PLACEHOLDER INDENTATION
.level-0 .indent-wrap {padding-left: 0px;}
.level-1 .indent-wrap {padding-left: 0*@pages-nested-list-padding;}
.level-2 .indent-wrap {padding-left: 1*@pages-nested-list-padding;}
.level-3 .indent-wrap {padding-left: 2*@pages-nested-list-padding;}
.level-4 .indent-wrap {padding-left: 3*@pages-nested-list-padding;}
.level-5 .indent-wrap {padding-left: 4*@pages-nested-list-padding;}
.level-6 .indent-wrap {padding-left: 5*@pages-nested-list-padding;}

li.level-0 .nested-list-placeholder { margin-left: floor(0.5 * @pages-nested-list-padding); }
li.level-1 .nested-list-placeholder { margin-left: floor(1.5 * @pages-nested-list-padding); }
li.level-2 .nested-list-placeholder { margin-left: floor(2.5 * @pages-nested-list-padding); }
li.level-3 .nested-list-placeholder { margin-left: floor(3.5 * @pages-nested-list-padding); }
li.level-4 .nested-list-placeholder { margin-left: floor(4.5 * @pages-nested-list-padding); }
li.level-5 .nested-list-placeholder { margin-left: floor(5.5 * @pages-nested-list-padding); }
li.level-6 .nested-list-placeholder { margin-left: floor(6.5 * @pages-nested-list-padding); }


/* PAGES EDIT "/admin/pages/edit" */
/* ============================== */
#page-view-frontend { float: right;.button-size(@padding-small-vertical; @padding-small-horizontal; @font-size-small; @line-height-small; @border-radius-small); padding: 1px 5px;}
#tab-toolbar { 
    img {cursor: pointer;}
    float: right;
}

.filter-label     { .make-xs-column(3);  .make-sm-column(1); }
.filter-select    { .make-xs-column(9);  .make-sm-column(2); }
.filter-more      { .make-xs-column(12); .make-sm-column(8); }

.page-plugins-area            { 
    margin-top: 10px; margin-bottom: 0px;
    @media (min-width: @screen-sm) { 
        .form-control, .form-control-static {width: auto; margin-right: 15px} 
        .control-label {width: auto; margin-right: 5px} 
    }    
}
.filter-more { 
    @media (min-width: @screen-sm) { 
        .form-control, .form-control-static {width: auto; margin-right: 15px} 
        .control-label {width: auto; margin-right: 5px} 
    }    
}
.page-plugins-status-label   { .make-xs-column(3); .make-sm-column(1); }
.page-plugins-status-select  { .make-xs-column(9); .make-sm-column(2); }
.page-plugins-observer       
{ .make-xs-column(12); .make-sm-column(9); 

}

.settings-panel-dates {.make-md-column(6);}
.settings-panel-general {.make-md-column(6);}
.input-day {.make-xs-column(7);}
.input-hour {.make-xs-column(5);}


.page-metainfo-contents,
.page-part-contents{
    .form-group {margin-bottom: 6px};
    .form-group:last-child {margin-bottom: 0px};
}



/* SNIPPETS "/admin/snippet" */
/* ========================= */

.snippet-list-item   { .make-row(); }
.snippet-list-name   { .make-xs-column(9); .make-sm-column(10); }
.snippet-list-modify { .make-xs-column(3); .make-sm-column(2); text-align: right; }



/* LAYOUTS "/admin/layout" */
/* ======================= */

.layout-list-item   { .make-row(); }
.layout-list-name   { .make-xs-column(9); .make-sm-column(10); }
.layout-list-modify { .make-xs-column(3); .make-sm-column(2); text-align: right; }
.last-modified-info {font-size: @font-size-small; color: @gray-light;}



/* SETTINGS "/admin/setting" */
/* ========================= */

.plugin-list-name     { width: 52%;
                        .plugin-list-title {}
                        .plugin-list-author {color: @gray-light;}
                        .plugin-list-description {font-style: italic;}
                        .notes { color: @brand-danger; font-size: @font-size-small; }
}
.plugin-list-settings { width: 8% }
.plugin-list-website  { width: 8% }
.plugin-list-version  { width: 8%; text-align: center; max-width: 10%; }
.plugin-list-latest   { width: 8%; text-align: center; max-width: 100px; overflow: auto; }
.plugin-list-enabled  { width: 8%; text-align: center; }
.plugin-list-uninst   { width: 8%; text-align: center; }



/* USERS "/admin/user" */
/* =================== */

.user-list-name   { width: 50% }
.user-list-email  { width: 20% }
.user-list-roles  { width: 20%; 
                    text-align: center;
                    display: none;
                    @media (min-width: @screen-sm) {
                        display: table-cell;
                    }
}
.user-list-modify { width: 10%; text-align: right }
#sidebar .user-gravatar {margin: 20px auto;}



/* FILE MANAGER "/admin/plugin/file_manager" */
/* ========================================= */


.file-mgr-list-name   { width: 30%;
                        .thumb   { .square(32px); vertical-align: middle; }
}
.file-mgr-list-size   { width: 20%; max-width: 100px;vertical-align: middle; }
.file-mgr-list-perms  { width: 20%; 
                        display: none;
                        vertical-align: middle;
                        @media (min-width: @screen-sm) { display: table-cell; }
}
.file-mgr-list-mtime  { width: 20%; 
                        text-align: right;
                        display: none;
                        vertical-align: middle;
                        @media (min-width: @screen-sm) { display: table-cell; }
}
.file-mgr-list-modify { width: 10%; max-width: 60px; text-align: right }

#body_plugin_file_manager {
    textarea {min-height: 400px; } // font-size: @font-size-small;
}


#body_page_edit #content,
#body_setting_index #content {
    // make Bootstrap default tabs a bit smaller
    .nav-tabs > li > a {
        padding: 6px 8px;
    }
    .nav-tabs > li.active > a {
        background-color: @tab-panes-background;
    }
}

// full width "#content" in some pages (no sidebar)
#body_page_index #content,
#body_snippet_edit #content,
#body_layout_edit #content,
#body_page_edit #content,
#body_setting_index #content {
    .make-sm-column(12);
}



#login-site-title {
    text-align: center;
    h1 {font-weight: 800};
}

#login-dialog {
    .container();
    .clearfix();
    .box-shadow(1px 1px 24px fade(@gray,50%));
    border: 1px solid fade(@gray,40%);
    border-radius: 3px;
    background-color: @main-bg; 
    max-width: @login-dialog-width;
    margin-left: auto;
    margin-right: auto;
    margin-top: 30px;
    padding: 30px;
    h2:first-child {
        margin-top: 0px; 
        margin-bottom: 30px; 
        text-align: center; 
        text-transform: uppercase; 
        font-weight: 800;
        color: @brand-primary;
        text-shadow: 1px 1px 4px fade(@brand-primary,50%);
        display: none;
    }
    .form-label { .make-sm-column(4); }
    .form-value { .make-sm-column(8); }
    .remember-me { .make-sm-column(12); }
    @media (min-width: @screen-sm) {
        margin-top: 60px;
    }
    .login-submit {
        text-align: center;
        .alternate-link {
            display: block;
            margin-top: 10px;
        }
    }
}

#login-footer {
    .container();
    .make-sm-column(12);
    font-size: @font-size-small;
    color: @gray-light;
    text-align: center;
    margin-top: 20px;
    @media (min-width: @screen-sm) {
        margin-top: 100px;
    }    
}